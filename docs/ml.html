
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- META DATA -->
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="Jieqian Liu, jl2750@georgetown.edu" name="author">

    <!-- Title -->
    <title>fall 2022 reddit big data project nlp - project group 14</title>

    <style>

        /* Main Menu CSS */
        .main-menu-area {
            background: #f2f8ec;
        }

        .main-navigation ul li {
            display: inline-block;
            position: relative;

        }

        .main-navigation ul li a {
            padding: 20px 20px;
            display: block;
            text-transform: capitalize;
            color: #113417;
            font-size: 18px;
            font-weight: 700;
            position: relative;
            z-index: 1;
            line-height: 1;
        }

        .main-navigation ul li a:before {
            position: absolute;
            content: '';
            height: 36px;
            width: 100%;
            background-color: #81b60c;
            left: 0;
            border-radius: 50px;
            z-index: -1;
            top: 50%;
            margin-top: -17px;
            opacity: 0;
            visibility: hidden;
            transition: .3s;
        }

        .main-navigation ul ul li a:before {
            display: none;
        }

        .main-navigation ul ul li a,
        .main-navigation ul li a:hover,
        .main-navigation ul li.current-menu-item > a,
        .main-navigation ul li.current-menu-ancestor > a {
            color: #ffffff;
            text-decoration: none;
        }

        .main-navigation ul ul li a:hover,
        .main-navigation ul ul li.current-menu-item > a,
        .main-navigation ul ul li.current-menu-ancestor > a {
            background-color: #123416;
        }

        .main-navigation ul li a:hover:before,
        .main-navigation ul li.current-menu-item > a:before,
        .main-navigation ul li.current-menu-ancestor > a:before {
            opacity: 1;
            visibility: visible;
        }

        /* Main Menu CSS End*/

        /* Submenu / Dropdown Menu CSS */
        .main-navigation ul li ul {
            position: absolute;
            width: 250px;
            left: 0;
            top: 58px;
            z-index: 2;
            -webkit-transition: .3s;
            transition: .3s;
            visibility: hidden;
            opacity: 0;
            background-color: #81b60c;
            margin: 0;
            padding: 0;
            list-style: none;
        }

        .main-navigation ul li:hover > ul {
            opacity: 1;
            visibility: visible;
        }

        .main-navigation ul li ul li a {
            padding: 14px 20px;
            line-height: 26px;
        }

        .main-navigation ul li ul li {
            display: block;
            text-align: left;
        }

        .main-navigation ul li ul ul {
            left: 250px;
            top: 0;
        }

        .main-navigation ul li ul li {
            border-bottom: 1px solid #e5e5e5;
        }

        .main-navigation ul li ul li:last-child {
            border-bottom: 0;
        }

        /* Submenu / Dropdown Menu CSS End */

        /* Tab Layout Two */
        .cvt-tabs-wrapper.cvt-tab-layout-two {
            background-color: #f4f5ef;
            padding: 10px;
        }

        .cvt-tab-layout-two .nav li a {
            display: inline-flex;
            align-items: center;
            background-color: #ebebe7;
            margin-right: 10px;
            color: #123417;
            font-size: 28px;
            font-weight: 700;
            padding: 15px 23px;
            margin-bottom: 10px;
            justify-content: center;
            text-decoration: none;
        }

        .cvt-tab-layout-two .nav li a.active,
        .cvt-tab-layout-two .nav li:hover a {
            background-color: #123417;
            color: #ffffff;
        }

        .cvt-tab-layout-two .tab-content {
            padding: 25px 30px 45px 30px;
        }

        .cvt-tab-layout-two .cvt-tab-title {
            font-size: 36px;
            line-height: 1.3;
            margin-bottom: 30px;
        }

        .cvt-tab-layout-two .cvt-tab-content-wrapper strong {
            margin-top: 15px;
        }

        /* Tab Layout Two End */

        /* Team details */
        .team-member-details-wrapper .cvt-tab-layout-two .tab-content {
            padding: 0;
        }

        .team-member-details-wrapper .cvt-tab-layout-two .nav li a {
            padding: 5px 40px;
            font-size: 25px;
            background-color: #ffffff;
        }

        .team-member-details-wrapper .cvt-tab-layout-two .nav li a.active,
        .team-member-details-wrapper .cvt-tab-layout-two .nav li:hover a {
            background-color: #81b60c;
        }

        .cvt-tab-layout-two .cvt-tab-title {
            margin-bottom: 10px;
        }

        .team-member-details-wrapper .cvt-tab-subtitle {
            color: #81b60c;
            font-weight: 700;
            letter-spacing: 0.5px;
            font-size: 17px;
            display: block;
            margin-bottom: 20px;
        }

        .team-member-details-wrapper .cvt-tab-subtitle a {
            color: #81b60c;
        }

        .pict {
            margin-top: 5px;
            margin-left: 350px;
            font-size: 12px;
            color: dimgray;
        }

        .mdiv {
            width: 900px;
            height: 300px;
            background-color: #ffffff;
            overflow: scroll;
            margin-left: 80px;
            scrollbar-face-color: #70807d;
            scrollbar-arrow-color: #ffffff;
            scrollbar-highlight-color: #ffffff;
            scrollbar-3dlight-color: #70807d;
            scrollbar-shadow-color: #ffffff;
            scrollbar-darkshadow-color: #70807d;
            scrollbar-track-color: #ffffff;
        }
        /* Team details End */

    </style>

    <!-- Template Stylesheet -->
    <link href="bootstrap.min.css" rel="stylesheet">

</head>
<body>

<!-- Header Area -->
<div class="main-menu-area">
    <nav class="main-navigation">
        <ul class="menu" id="main-menu">
            <li><a href="index.html">Home</a></li>
            <li><a href="eda.html">Exploratory Data Analysis</a></li>
            <li><a href="nlp.html">Natural Language Processing</a></li>
            <li class="current-menu-ancestor"><a href="ml.html">Machine Learning</a></li>
            <li><a href="conclusion.html">Conclusion</a></li>
        </ul>
    </nav>
</div>
<!-- Header Area End-->

<!-- Team Member Details -->
<section class="team-member-details-wrapper">
    <div class="container" style="max-width: none">
        <div class="cvt-tabs-wrapper cvt-tab-layout-two">
            <ul class="nav nav-tabs">
                <li>
                    <a class="active" data-toggle="tab" href="#tab-number-1">
                        <span class="cvt-tab-menu-text">Summary</span>
                    </a>
                </li>

                <li>
                    <a data-toggle="tab" href="#tab-number-2">
                        <span class="cvt-tab-menu-text">Favorite Topics</span>
                    </a>
                </li>

                <li>
                    <a data-toggle="tab" href="#tab-number-3">
                        <span class="cvt-tab-menu-text">Top Authors</span>
                    </a>
                </li>

                <li>
                    <a data-toggle="tab" href="#tab-number-4">
                        <span class="cvt-tab-menu-text">Teenagers' Hobbies</span>
                    </a>
                </li>

            </ul>

            <div class="tab-content">
                <div class="tab-pane active show" id="tab-number-1">
                    <div class="cvt-tab-content-wrapper">
                        <div class="tab-description">
                            <h3 class="cvt-tab-title">Executive Summary</h3>
                            <p>
                                For the rest of our goals, we decide to build some machine learning models to find the hottest topics associated with favorite, find the important features of top authors and distinguish the most popular activities of teenagers.
                            </p>
                            <ul>
                                <li>
                                    <p>
                                    To find the hottest topics related to 'favourite', we used Associate Rule Mining (ARM) to build models with three different metrix(support, confidence and lift) and different hyperparameter sets. We can know from the network visualization that teens would like to talk about their favourite color, music, game, movie, song, animal, video, yall.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                Using random forests and logistic regression, we found important common features of submissions output by top authors <i>num_comments</i>, which makes top authors tend to get more comments and attention, so advertisers can cooperate with top authors to output opinions and products, generating commercial value.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                To classify submissions about the hobbies topics such as sports, art, musics, we used both count vector and TF-IDF feature extraction technique along with logistic regression and naive bayes in Spark, which can be used to classify the hobby topic that the posts content is related to so that the advertisers can find the targets groups.
                                    </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="tab-number-2">
                    <div class="cvt-tab-content-wrapper">
                        <div class="tab-description">
                            <h3 class="cvt-tab-title">Hottest Topics When Teenagers Mention Favorite</h3>
                            <span class="cvt-tab-subtitle">Goal and Proposal</span>
                            <p></p>
                            <p>
                                Our <b>business goal</b> here is to figure out the top 10 hottest topics when teenagers using the word 'favorite'.
                            </p>
                            <p>
                                Initially, our <b>technical proposal</b> is build Association Rule Mining model via Apriori Algorithm to find popular words associated with 'favorite'.
                                We will compare the performance of models with different value of hyperparameter to select the better one.
                            </p>
                            <ul class="nav nav-tabs"></ul>

                            <br>
                            <span class="cvt-tab-subtitle">Code</span>
                            <p></p>
                            <p>
                                Our code of this part can be seen here: <a href="code/ml/ARM.html" target="_blank">ARM.html</a>
                            </p>
                            <ul class="nav nav-tabs"></ul>

                            <br>
                            <span class="cvt-tab-subtitle">Analysis</span>
                            <p>
                                Teenagers are enthusiastic about talking their favourite things to find peers having similar taste with them. So we are interested in discovering the hottest topics related to the word 'favourite'. Using Associate Rule Mining (ARM), we discovered interesting relations between the word 'favourite' and other words from teenagers' submissions.
                            </p>
                            <img src="plots/ml/confidence.jpeg"  style="height: 400px; margin-left: 20%">
                            <p></p>
                            <div style="padding: 100px 30px 0 60px; float: left; width: 20%">
                                 <p>When min_support is 0.2, we can know from the graph that teens like to talk about their favourite game, movie, video, artist, song, yall, food, animal, color and music on reddit.</p>
                            </div>
                            <div style="width: 65%; float: right; margin-right: 1%">
                                <img src="plots/ml/network_confidence.png"  style="width: 100%">
                            </div>

                            <div style="width: 65%; float: left; margin-left: 1%">
                                <br>
                                <img src="plots/ml/network_confidence_2.png"  style="width: 100%">
                            </div>
                            <div style="padding: 100px 0 0 100px; float: left; width: 20%">
                                 <p>We can only know from this graph that people would like to talk about their favourite game, movie and song. For our business goal, we need to find out at least ten hottest topics, so we can't get enough information when min_support is 0.03.</p>
                            </div>
                            <div style="clear: both; height: 0; overflow:hidden"></div>

                            <div style="padding: 100px 30px 0 60px; float: left; width: 20%">
                                 <p>Although we can get enough popular nodes related to 'favourite'. There are too many unwanted verbs and modal particulars in the network visualizations when min_support was set to 0.01. Too many nodes also let us hard to select the hottest topics.</p>
                            </div>
                            <div style="width: 65%; float: right; margin-right: 1%">
                                <br>
                                <img src="plots/ml/network_confidence_3.png"  style="width: 100%">
                            </div>
                            <div style="clear: both; height: 0; overflow:hidden"></div>
                            <p></p>
                            <p>Comparing above three different Apriori models of 'confidence' metric, we decided to use the first model when min_support is 0.02 for visualizing results. Then we use the first model to try other two metrix: 'support' and 'lift'.</p>

                            <div style="width: 65%; float: left; margin-left: 1%">
                                <img src="plots/ml/network_support.png"  style="width: 100%">
                            </div>
                            <div style="padding: 100px 0 0 100px; float: left; width: 20%">
                                 <p>We have tried different value for min_threshold when plotting network visualization of support metrix and chose 0.01 finally to get proper amount of nodes. We can know from this graph that teens would like to talk about their favourite color, music, game, movie, song, animal.</p>
                            </div>
                            <div style="clear: both; height: 0; overflow:hidden"></div>

                            <div style="padding: 100px 30px 0 60px; float: left; width: 20%">
                                 <p>We have tried different value for min_threshold when plotting network visualization of support metrix and chose 0.1 finally to get proper amount of nodes. We can know from this graph that teens would like to talk about their favourite color, music, game, movie, song, animal, video, yall.</p>
                            </div>
                            <div style="width: 65%; float: right; margin-right: 1%">
                                <br>
                                <img src="plots/ml/network_lift.png"  style="width: 100%">
                            </div>
                            <div style="clear: both; height: 0; overflow:hidden"></div>
                            <p></p>
                            <p>
                                Before we built the ARM model, we used a few standard procedures(tokenizing, normalizing, stop_words, stemming and converting) to prepare the data. Then we built ARM model using three different metrix (confidence, support, lift) and different hyperparameter sets (min_support, min_threshold).
                                The models with different metrix all give similar conclusions.  From the network visualization, we can know that teens would like to talk about their favourite color, music, game, movie, song, animal, video, yall.
                                Color is the hottest topic since its connection with 'favourite' is much stronger than other words. 'Video' and 'game' also has very strong connection in the network, indicating when teenagers always talk about their favourite game or video.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="tab-number-3">
                    <div class="cvt-tab-content-wrapper">
                        <div class="tab-description">
                            <h3 class="cvt-tab-title">Most Important Feature of Top Authors</h3>
                            <span class="cvt-tab-subtitle">Goal and Proposal</span>
                            <p></p>
                            <p>
                                Our <b>business goal</b> here is to figure out the top 10 reddit authors that received the most comments/upvotes on their posts, and analysis the common features of these 10 users.
                            </p>
                            <p>
                                Initially, our <b>technical proposal</b> is to elect the variable which can be used to hint weather the author is a good submitter, such as <i>selftext</i>, <i>created_time</i> and so on. Then use Spark MLlib to build Pipelines and do logistic regression analysis, find the most important factors which relates to a good author. Through this process, we can create new variables like avg(score) to evaluate the authors general performance. We can also do some normalization to improve the reliability of the results.
                            </p>
                            <ul class="nav nav-tabs"></ul>

                            <br>
                            <span class="cvt-tab-subtitle">Code</span>
                            <p></p>
                            <p>
                                For this part, we have two coding files: the <a href="code/ml/RF_LR.html" target="_blank">RF_LR.html</a> file is for building models
                                 and the other <a href="code/ml/evaluation_RF_LR.html" target="_blank">evaluation_RF_LR.html</a> file is to evaluate the performance of models.
                            </p>
                            <ul class="nav nav-tabs"></ul>

                            <br>
                            <span class="cvt-tab-subtitle">Analysis</span>
                            <p>
                                Through previous EDA part, we found that top authors will output more submissions and get higher scores (more attention), for example, the author <i>tinkerbell2678</i> in this dataset output 12482 submissions, much higher than other authors. In order to measure the author's consistent performance more accurately, we choose to use the <code>avg_scores = (sum(scores)/count(*))</code> of all submissions as the label <i>author_grade</i>.
                                The detailed average score distribution is shown in the table <b>avg_score_distribution</b> below, and we can find that the author's productivity has an obvious head effect. The top 1% of authors will get the top label, and the rest will get the normal label.
                            </p>
                            <img src="plots/ml/avg_score_distribution.png" style="height: 300px; margin-left: 40%">
                            <p></p>
                            <p>
                                Next, we take the number of comments received by the submission <i>num_comments</i>, the length of the submission <i>selftext_len</i>, the time when the submission was issued hour, and the forum where the submission is located <i>subreddit_vec</i> as possible important features. Then convert the variable form and use <b>Spark MLlib</b> to build the <b>Pipelines</b> that trains the two models of random forest and logistic regression and compare the results.
                            </p>
                            <p>
                                We used the evaluation metrics <b>confusion matrix, accuracy, and ROC AUC</b>, and the results showed that Random Forest performed slightly better than Logistic Regression. However, this is closely related to the parameters we choose, specifically, when the number of trees is selected to be 2, we have an accuracy of 68.9%, and when the number of trees is adjusted to 10, the accuracy is 71.5%. See the evaluation_RF_LR notebook above for detailed comparison results.
                            </p>
                            <img src="plots/ml/Feature_Importances.png" style="height: 300px; margin-left: 30%">
                            <p></p>
                            <p>
                                Therefore, we found that the number of comments is the most important factor in judging the performance of an author(see the plot above for details), and submissions with higher comments are more likely to be published by top writers, so the average number of comments received by an author's submissions can be used as an indicator for advertisers to measure whether an author is worthy of cooperation standard.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="tab-pane fade" id="tab-number-4">
                    <div class="cvt-tab-content-wrapper">
                        <div class="tab-description">
                            <h3 class="cvt-tab-title">Hobbies of Teenagers</h3>
                            <span class="cvt-tab-subtitle">Goal and Proposal</span>
                            <p></p>
                            <p>
                                Our <b>business goal</b> here is to distinguish the activities or hobbies like music, sports or art that teens may be interested in, which may be helpful when targeting relevant ads on subreddit forums.
                            </p>
                            <p>
                                Initially, our <b>technical proposal</b> is to use "sports", "art", "music" as labels to find relevant submissions, process text using stopwords and tokenization, train classification model using algorithm such as regression or naive bayes.
                            </p>
                            <ul class="nav nav-tabs"></ul>

                            <br>
                            <span class="cvt-tab-subtitle">Code</span>
                            <p></p>
                            <p>
                               Our code of this part can be seen here: <a href="code/ml/Classification.html" target="_blank">Classification.html</a>.
                            </p>
                            <ul class="nav nav-tabs"></ul>

                            <br>
                            <span class="cvt-tab-subtitle">Analysis</span>
                            <p>
                                For the ML data preparation process, we extracted submission posts related to "sport", "art", and "music" using regex. Then we used regexRegexTokenizer to clean the text, used count vector and TF-IDF respectively to extract text features. StringIndexer generated labels from the "topic" column. After fitting the pipeline to the training data, the data is ready for ML process. We conducted logistic regression using 5-fold cross validation and paragridbuilder to build and return the combinations of parameters for model selection. Naive Bayes is also conducted for model performance comparison.
                            </p>
                            <div style="float: left; width: 45%; margin-left: 30px">
                                 <img src="plots/ml/cm_naive_bayes_count_vectors.png" style="width: 100%">
                            </div>
                            <div style="width: 45%; float: left; margin-left: 30px">
                                <img src="plots/ml/cm_naive_bayes_TF_IDF.png" style="width: 100%">
                            </div>
                            <div style="clear: both; height: 0; overflow:hidden"></div>
                            <br>
                            <p>
                                Comparing the models' prediction results for hobbies classification, logistics regression algorithm has a better performance on text datasets based on two different feature extraction methods than the naive bayes. In general, the results exhibit high accuracies which may due to the fact that the text content of these three classes are different that can be clearly categorized. However, the classification for submission with label "sport" has higher false positive rate than the other two labels. This may due to the number of the samples with label "sport" is much less than the other two so that the models do not have enough samples to be trained to distinguish post with sport topic. Besides, the number of samples and the classification for data with "art" and "music" labels are enough for doing further segmentation. Music can break down to different genres, for example, This might also useful for advertisers. We might make more analysis on this later.
                            </p>
                            <img src="plots/ml/classification_model_result.png" style="width: 40%; margin-left: 30%">
                            <p></p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>
<!-- Team Member Details End -->


<!-- Template Scripts -->
<script src="jquery-3.5.1.min.js"></script>
<script src="bootstrap.min.js"></script>

</body>
</html>